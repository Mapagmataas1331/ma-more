import{K as P,i as W,q as B,M as $}from"./utils.BeYFwrQd.js";import{k as q}from"./disclose-version.B99yLVXW.js";import{A as O,a as k,b as R,c as N,d as V,H as j,E as M,i as G}from"./popper-layer-force-mount.B2HbGBfy.js";import{w as L,g as C}from"./index.DgrpdCwK.js";function oe(e,r,f=r){var o=P();q(e,"input",u=>{var d=u?e.defaultValue:e.value;d=S(e)?E(d):d,f(d),o&&d!==(d=r())&&(e.value=d??"")}),(W&&e.defaultValue!==e.value||B(r)==null&&e.value)&&f(S(e)?E(e.value):e.value),$(()=>{var u=r();S(e)&&u===E(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function S(e){var r=e.type;return r==="number"||r==="range"}function E(e){return e===""?null:+e}function U(e){return window.getComputedStyle(e).getPropertyValue("direction")}function J(e="ltr",r="horizontal"){return{horizontal:e==="rtl"?O:k,vertical:R}[r]}function Q(e="ltr",r="horizontal"){return{horizontal:e==="rtl"?k:O,vertical:N}[r]}function X(e="ltr",r="horizontal"){return["ltr","rtl"].includes(e)||(e="ltr"),["horizontal","vertical"].includes(r)||(r="horizontal"),{nextKey:J(e,r),prevKey:Q(e,r)}}function ue(e){const r=e.currentTabStopId?e.currentTabStopId:V(null);function f(){if(!G)return[];const i=document.getElementById(e.rootNodeId.current);return i?e.candidateSelector?Array.from(i.querySelectorAll(e.candidateSelector)):Array.from(i.querySelectorAll(`[${e.candidateAttr}]:not([data-disabled])`)):[]}function o(){var a;const i=f();i.length&&((a=i[0])==null||a.focus())}function u(i,a,h=!1){var s;const x=document.getElementById(e.rootNodeId.current);if(!x||!i)return;const g=f();if(!g.length)return;const v=g.indexOf(i),w=U(x),{nextKey:_,prevKey:T}=X(w,e.orientation.current),p=e.loop.current,I={[_]:v+1,[T]:v-1,[j]:0,[M]:g.length-1};if(h){const l=_===R?k:R,y=T===N?O:N;I[l]=v+1,I[y]=v-1}let t=I[a.key];if(t===void 0)return;a.preventDefault(),t<0&&p?t=g.length-1:t===g.length&&p&&(t=0);const n=g[t];if(n)return n.focus(),r.current=n.id,(s=e.onCandidateFocus)==null||s.call(e,n),n}function d(i){const a=f(),h=r.current!==null;return i&&!h&&a[0]===i?(r.current=i.id,0):(i==null?void 0:i.id)===r.current?0:-1}return{setCurrentTabStopId(i){r.current=i},getTabIndex:d,handleKeydown:u,focusFirstCandidate:o,currentTabStopId:r}}function ce(...e){return e.filter(Boolean).join(" ")}const D=typeof document<"u";function F(e){const r=L(e);function f(u){D&&r.set(u)}function o(u){D&&r.update(u)}return{subscribe:r.subscribe,set:f,update:o}}let H=0;function Y(){const e=F([]),r=F([]);function f(t){e.update(n=>[t,...n])}function o(t){var z;const{message:n,...s}=t,l=typeof(t==null?void 0:t.id)=="number"||t.id&&((z=t.id)==null?void 0:z.length)>0?t.id:H++,y=t.dismissable===void 0?!0:t.dismissable,c=t.type===void 0?"default":t.type;return C(e).find(A=>A.id===l)?e.update(A=>A.map(K=>K.id===l?{...K,...t,id:l,title:n,dismissable:y,type:c,updated:!0}:{...K,updated:!1})):f({...s,id:l,title:n,dismissable:y,type:c}),l}function u(t){if(t===void 0){e.update(n=>n.map(s=>({...s,dismiss:!0})));return}return e.update(n=>n.map(s=>s.id===t?{...s,dismiss:!0}:s)),t}function d(t){if(t===void 0){e.set([]);return}return e.update(n=>n.filter(s=>s.id!==t)),t}function i(t,n){return o({...n,type:"default",message:t})}function a(t,n){return o({...n,type:"error",message:t})}function h(t,n){return o({...n,type:"success",message:t})}function x(t,n){return o({...n,type:"info",message:t})}function g(t,n){return o({...n,type:"warning",message:t})}function v(t,n){return o({...n,type:"loading",message:t})}function w(t,n){if(!n)return;let s;n.loading!==void 0&&(s=o({...n,promise:t,type:"loading",message:n.loading}));const l=t instanceof Promise?t:t();let y=s!==void 0;return l.then(c=>{if(c&&typeof c.ok=="boolean"&&!c.ok){y=!1;const b=typeof n.error=="function"?n.error(`HTTP error! status: ${c.status}`):n.error;o({id:s,type:"error",message:b})}else if(n.success!==void 0){y=!1;const b=typeof n.success=="function"?n.success(c):n.success;o({id:s,type:"success",message:b})}}).catch(c=>{if(n.error!==void 0){y=!1;const b=typeof n.error=="function"?n.error(c):n.error;o({id:s,type:"error",message:b})}}).finally(()=>{var c;y&&(u(s),s=void 0),(c=n.finally)==null||c.call(n)}),s}function _(t,n){const s=(n==null?void 0:n.id)||H++;return o({component:t,id:s,...n}),s}function T(t){r.update(n=>n.filter(s=>s.toastId!==t))}function p(t){if(C(r).find(s=>s.toastId===t.toastId)===void 0){r.update(s=>[t,...s]);return}r.update(s=>s.map(l=>l.toastId===t.toastId?t:l))}function I(){e.set([]),r.set([])}return{create:o,addToast:f,dismiss:u,remove:d,message:i,error:a,success:h,info:x,warning:g,loading:v,promise:w,custom:_,removeHeight:T,setHeight:p,reset:I,toasts:e,heights:r}}const m=Y();function Z(e,r){return m.create({message:e,...r})}const ee=Z,fe=Object.assign(ee,{success:m.success,info:m.info,warning:m.warning,error:m.error,custom:m.custom,message:m.message,promise:m.promise,dismiss:m.dismiss,loading:m.loading}),le=e=>({subscribe:e});export{m as a,oe as b,le as c,ce as d,fe as t,ue as u};
