import{K as P,M as W,h as B}from"./utils.C0xU-PSt.js";import{k as $}from"./disclose-version.DWxe4SYb.js";import{A as O,a as z,b as R,c as N,d as j,H as q,E as M,i as V}from"./popper-layer-force-mount.C-GvEDx1.js";import{w as G,g as C}from"./index.CDAqoeF5.js";function ie(e,r,f=r){var o=P();$(e,"input",()=>{var u=S(e)?E(e.value):e.value;f(u),o&&u!==(u=r())&&(e.value=u??"")}),W(()=>{var u=r();if(B&&e.defaultValue!==e.value){f(S(e)?E(e.value):e.value);return}S(e)&&u===E(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function S(e){var r=e.type;return r==="number"||r==="range"}function E(e){return e===""?null:+e}function L(e){return window.getComputedStyle(e).getPropertyValue("direction")}function U(e="ltr",r="horizontal"){return{horizontal:e==="rtl"?O:z,vertical:R}[r]}function J(e="ltr",r="horizontal"){return{horizontal:e==="rtl"?z:O,vertical:N}[r]}function Q(e="ltr",r="horizontal"){return["ltr","rtl"].includes(e)||(e="ltr"),["horizontal","vertical"].includes(r)||(r="horizontal"),{nextKey:U(e,r),prevKey:J(e,r)}}function oe(e){const r=e.currentTabStopId?e.currentTabStopId:j(null);function f(){if(!V)return[];const i=document.getElementById(e.rootNodeId.current);return i?e.candidateSelector?Array.from(i.querySelectorAll(e.candidateSelector)):Array.from(i.querySelectorAll(`[${e.candidateAttr}]:not([data-disabled])`)):[]}function o(){var d;const i=f();i.length&&((d=i[0])==null||d.focus())}function u(i,d,b=!1){var s;const I=document.getElementById(e.rootNodeId.current);if(!I||!i)return;const y=f();if(!y.length)return;const g=y.indexOf(i),w=L(I),{nextKey:x,prevKey:_}=Q(w,e.orientation.current),T=e.loop.current,h={[x]:g+1,[_]:g-1,[q]:0,[M]:y.length-1};if(b){const l=x===R?z:R,m=_===N?O:N;h[l]=g+1,h[m]=g-1}let t=h[d.key];if(t===void 0)return;d.preventDefault(),t<0&&T?t=y.length-1:t===y.length&&T&&(t=0);const n=y[t];if(n)return n.focus(),r.current=n.id,(s=e.onCandidateFocus)==null||s.call(e,n),n}function p(i){const d=f(),b=r.current!==null;return i&&!b&&d[0]===i?(r.current=i.id,0):(i==null?void 0:i.id)===r.current?0:-1}return{setCurrentTabStopId(i){r.current=i},getTabIndex:p,handleKeydown:u,focusFirstCandidate:o,currentTabStopId:r}}function ue(...e){return e.filter(Boolean).join(" ")}const D=typeof document<"u";function F(e){const r=G(e);function f(u){D&&r.set(u)}function o(u){D&&r.update(u)}return{subscribe:r.subscribe,set:f,update:o}}let H=0;function X(){const e=F([]),r=F([]);function f(t){e.update(n=>[t,...n])}function o(t){var k;const{message:n,...s}=t,l=typeof(t==null?void 0:t.id)=="number"||t.id&&((k=t.id)==null?void 0:k.length)>0?t.id:H++,m=t.dismissable===void 0?!0:t.dismissable,c=t.type===void 0?"default":t.type;return C(e).find(A=>A.id===l)?e.update(A=>A.map(K=>K.id===l?{...K,...t,id:l,title:n,dismissable:m,type:c,updated:!0}:{...K,updated:!1})):f({...s,id:l,title:n,dismissable:m,type:c}),l}function u(t){if(t===void 0){e.update(n=>n.map(s=>({...s,dismiss:!0})));return}return e.update(n=>n.map(s=>s.id===t?{...s,dismiss:!0}:s)),t}function p(t){if(t===void 0){e.set([]);return}return e.update(n=>n.filter(s=>s.id!==t)),t}function i(t,n){return o({...n,type:"default",message:t})}function d(t,n){return o({...n,type:"error",message:t})}function b(t,n){return o({...n,type:"success",message:t})}function I(t,n){return o({...n,type:"info",message:t})}function y(t,n){return o({...n,type:"warning",message:t})}function g(t,n){return o({...n,type:"loading",message:t})}function w(t,n){if(!n)return;let s;n.loading!==void 0&&(s=o({...n,promise:t,type:"loading",message:n.loading}));const l=t instanceof Promise?t:t();let m=s!==void 0;return l.then(c=>{if(c&&typeof c.ok=="boolean"&&!c.ok){m=!1;const v=typeof n.error=="function"?n.error(`HTTP error! status: ${c.status}`):n.error;o({id:s,type:"error",message:v})}else if(n.success!==void 0){m=!1;const v=typeof n.success=="function"?n.success(c):n.success;o({id:s,type:"success",message:v})}}).catch(c=>{if(n.error!==void 0){m=!1;const v=typeof n.error=="function"?n.error(c):n.error;o({id:s,type:"error",message:v})}}).finally(()=>{var c;m&&(u(s),s=void 0),(c=n.finally)==null||c.call(n)}),s}function x(t,n){const s=(n==null?void 0:n.id)||H++;return o({component:t,id:s,...n}),s}function _(t){r.update(n=>n.filter(s=>s.toastId!==t))}function T(t){if(C(r).find(s=>s.toastId===t.toastId)===void 0){r.update(s=>[t,...s]);return}r.update(s=>s.map(l=>l.toastId===t.toastId?t:l))}function h(){e.set([]),r.set([])}return{create:o,addToast:f,dismiss:u,remove:p,message:i,error:d,success:b,info:I,warning:y,loading:g,promise:w,custom:x,removeHeight:_,setHeight:T,reset:h,toasts:e,heights:r}}const a=X();function Y(e,r){return a.create({message:e,...r})}const Z=Y,ce=Object.assign(Z,{success:a.success,info:a.info,warning:a.warning,error:a.error,custom:a.custom,message:a.message,promise:a.promise,dismiss:a.dismiss,loading:a.loading}),fe=e=>({subscribe:e});export{a,ie as b,fe as c,ue as d,ce as t,oe as u};
